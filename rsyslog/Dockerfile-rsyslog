# Start with a minimal base image
FROM ubuntu:latest

# Install rsyslog and necessary dependencies
RUN apt-get update && \
    apt-get install -y rsyslog && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Copy rsyslog configuration file into the container
COPY rsyslog.conf /etc/rsyslog.conf

# Expose ports for rsyslog
EXPOSE 514/udp 514/tcp

# Set the command to start rsyslog
CMD ["rsyslogd", "-n"]